<!DOCTYPE html>
<html lang="pl">
<head>
	<title>Zadanie2 JavaScript - CallBack</title>
	<meta charset="utf-8">
</head>
<body>
	<div id="box"></div>
	<script type="text/javascript">
		//system rejestracji użytkownika
		//1. Wysyłanie danych uzytkownika na serwer....
		//2. Walidacja danych...
		//3. Rejestracja uzytkownika...
		//4. Wysyła maila z potwierdzeniem...
		//!!!! Kolejność jest ważna
		const sentUserData = (CallBack) => {
			setTimeout(()=>{
				document.getElementById('box').innerHTML += "1. Wysyłanie danych uzytkownika na serwer....<br>";
				CallBack();
			},3000)
		}

		const validateData = (CallBack) => {
			setTimeout(()=>{
				document.getElementById('box').innerHTML += "2. Walidacja danych...<br>";
				CallBack();
			},2500)
		}

		const registerUser = (CallBack) => {
			setTimeout(()=>{
				document.getElementById('box').innerHTML += "3. Rejestracja uzytkownika...<br>";
				CallBack();
			},1500)
		}

		const sendMail = () => {
			setTimeout(()=>{
				document.getElementById('box').innerHTML += "4. Wysyła maila z potwierdzeniem...<br>";
			},1000)
		}
		//--------------------CALLBACK HELL------------------------------
		sentUserData(function() {
			validateData(function() {
				registerUser(sendMail);	
			});
		});
		//--------------------------------------------------------------
	</script>
</body>
</html>